<div class="col-md-12">
    <ol class="breadcrumb">
        <li class="active">接口预览</li>
        <li class="active">$!{appDO.appName}</li>
        <div style="display:inline;float:right"><a href="${ctxPath}/admin/empty.htm"><span
                class="glyphicon glyphicon-home" style="color: rgb(212, 106, 64);"></span></a></div>
    </ol>
</div>
<div class="col-md-12">
    <div class="panel panel-primary">
        <div class="panel-body" id="interfaceHttpViewPanel">
        #*HTTP接口描述文档显示区域*#
        </div>
    </div>
   <div class="panel panel-primary">
       <div class="panel-body" id="interfaceRpcViewPanel">
       #*RPC接口描述文档显示区域*#
       </div>
   </div>
</div>
#*HTTP接口描述文档模板*#
<script id="interfaceHttpViewTemplate" type="text/x-handlebars-template">
    {{# if this}}
    {{# each this}}
    <div class="row">
        <div class="col-sm-12">
            <div class="col-sm-12" style="border-bottom: 2px solid #b2dba1">
                <h4 class="text-right">HTTP</h4>
                <h4 style="word-wrap: break-word">{{addOne @index}}.{{name}}</h4>
            </div>
        </div>
    </div>
    <div class="row" style="margin-top: 5px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(1).接口地址 :</b></span><span>&nbsp;&nbsp;</span>
            <span  style="word-wrap: break-word">{{address}}</span>
        </div>
    </div>
    <div class="row" style="margin-top: 6px; padding-left: 15px; padding-right: 15px;">
        <div class="col-sm-12">
            <table class="table table-bordered" style="table-layout: fixed;">
                <tr>
                    <th width="20%" class="text-right">mock服务调试地址:</th>
                    <td width="80%" style="word-wrap: break-word">{{mockAddress}}</td>
                </tr>
                <tr>
                    <th width="20%" class="text-right">开发环境访问地址:</th>
                    <td width="80%" style="word-wrap: break-word">{{devAddress}}</td>
                </tr>
                <tr>
                    <th width="20%" class="text-right">测试环境访问地址:</th>
                    <td width="80%" style="word-wrap: break-word">{{sitAddress}}</td>
                </tr>
                <tr>
                    <th width="20%" class="text-right">UAT环境访问地址:</th>
                    <td width="80%" style="word-wrap: break-word">{{uatAddress}}</td>
                </tr>
                <tr>
                    <th width="20%" class="text-right">线上环境访问地址:</th>
                    <td width="80%" style="word-wrap: break-word">{{prdAddress}}</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(2).接口描述 :</b></span><span>&nbsp;&nbsp;</span>
            <span style="word-wrap: break-word">{{description}}</span>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(3).数据格式 :</b></span><span>&nbsp;&nbsp;</span><span>{{transformat}}</span>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(4).请求方式 :</b></span><span>&nbsp;&nbsp;</span><span>{{protocol}} + {{method}}</span>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(5).请求参数 :</b></span><span>&nbsp;&nbsp;</span>
        </div>
    </div>
    <div class="row" style="margin-top: 6px; padding-left: 15px; padding-right: 15px;">
        <div class="col-sm-12">
            <table class="table table-bordered" style="table-layout: fixed">
                <thead>
                <tr>
                    <th>名称</th>
                    <th>类型</th>
                    <th>说明</th>
                    <th>是否必填</th>
                    <th style="width: 20%">JSON格式化传输</th>
                    <th>示例</th>
                    <th>默认值</th>
                </tr>
                </thead>
                <tbody>
                {{# if interfaceParamEntities}}
                {{#interfaceParamEntities}}
                <tr>
                    <td title="{{paramName}}" style="word-wrap: break-word">
                        {{paramName}}
                    </td>
                    <td title="{{paramType}}" style="word-wrap: break-word">
                        {{paramType}}
                    </td>
                    <td title="{{paramDescribe}}" style="word-wrap: break-word">
                        {{paramDescribe}}
                    </td>
                    <td title="{{required}}" style="word-wrap: break-word">
                        {{required}}
                    </td>
                    <td title="{{jsontransformat}}"
                        style="word-wrap: break-word">{{jsontransformat}}
                    </td>
                    <td title="{{example}}" style="word-wrap: break-word">
                        {{example}}
                    </td>
                    <td title="{{defaultValue}}" style="word-wrap: break-word">
                        {{defaultValue}}
                    </td>
                </tr>
                {{/interfaceParamEntities}}
                {{else}}
                <tr>
                    <td class='text-center' colspan='7'>暂无信息！</td>
                </tr>
                {{/if}}
                </tbody>
            </table>
        </div>
    </div>
    ##    <div class="row" style="margin-top: 3px;">
    ##        <div class="col-sm-12">
    ##            <span>(5).返回字段说明 :</span><span>&nbsp;&nbsp;</span>
    ##        </div>
    ##    </div>
    ##    <div class="row" style="margin-top: 6px; padding-left: 15px; padding-right: 15px;">
    ##        <div class="col-sm-12">
    ##            <table class="table table-bordered">
    ##                <thead>
    ##                <tr>
    ##                    <th>名称</th>
    ##                    <th>类型</th>
    ##                    <th>说明</th>
    ##                </tr>
    ##                </thead>
    ##                <tbody>
    ##                <tr>
    ##                    <td>error_code</td>
    ##                    <td>int</td>
    ##                    <td>返回码</td>
    ##                </tr>
    ##                <tr>
    ##                    <td>result</td>
    ##                    <td>string</td>
    ##                    <td>返回说明</td>
    ##                </tr>
    ##                <tr>
    ##                    <td>company</td>
    ##                    <td>string</td>
    ##                    <td>所在单位</td>
    ##                </tr>
    ##                </tbody>
    ##            </table>
    ##        </div>
    ##    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(6).返回示例及注意事项 :</b></span><span>&nbsp;&nbsp;</span>
        </div>
    </div>
    <div class="row" style="margin-top: 6px; padding-left: 15px; padding-right: 15px;">
        <div class="col-sm-12">
            {{# if interfaceResultEntities}}
            {{#interfaceResultEntities}}
            {{#compareExampleType exampleType "NORMAL" }}
            <pre>{{# if exampleContent}}{{exampleContent}}{{else}}暂无返回示例！{{/if}}</pre>
            <pre>{{# if attentionMatters}}{{attentionMatters}}{{else}}暂无注意事项！{{/if}}</pre>
            {{/compareExampleType}}
            {{/interfaceResultEntities}}
            {{/if}}

        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(7).异常示例及注意事项 :</b></span><span>&nbsp;&nbsp;</span>
        </div>
    </div>
    <div class="row" style="margin-top: 6px; padding-left: 15px; padding-right: 15px;">
        <div class="col-sm-12">
            {{# if interfaceResultEntities}}
            {{#interfaceResultEntities}}
            {{#compareExampleType exampleType "EXCEPTION" }}
            <pre>{{# if exampleContent}}{{exampleContent}}{{else}}暂无返回示例！{{/if}}</pre>
            <pre>{{# if attentionMatters}}{{attentionMatters}}{{else}}暂无注意事项！{{/if}}</pre>
            {{/compareExampleType}}
            {{/interfaceResultEntities}}
            {{/if}}
        </div>
    </div>
    <br/>
    {{/each}}
    {{else}}
    <h3 class="text-center">暂无HTTP相关接口列表信息！</h3>
    {{/if}}
</script>
#*RPC接口描述文档模板*#
<script id="interfaceRpcViewTemplate" type="text/x-handlebars-template">
    {{# if this}}
    {{# each this}}
    <div class="row">
        <div class="col-sm-12">
            <div class="col-sm-12" style="border-bottom: 2px solid #b2dba1">
                <h4 class="text-right">RPC</h4>
                <h4 style="word-wrap: break-word">{{addOne @index}}.{{name}}</h4>
            </div>
        </div>
    </div>
    <div class="row" style="margin-top: 5px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(1).类全路径名称 :</b></span><span>&nbsp;&nbsp;</span>
            <span style="word-wrap: break-word">{{className}}</span>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(2).方法名称 :</b></span><span>&nbsp;&nbsp;</span>
            <span style="word-wrap: break-word">{{methodName}}</span>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(3).返回值类型 :</b></span><span>&nbsp;&nbsp;</span>
            <span style="word-wrap: break-word">{{returnType}}</span>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(4).方法参数 :</b></span><span>&nbsp;&nbsp;</span>
            <span style="word-wrap: break-word">{{methodParam}}</span>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(5).功能描述 :</b></span><span>&nbsp;&nbsp;</span>
            <span style="word-wrap: break-word">{{functionDescribe}}</span>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(6).请求参数 :</b></span><span>&nbsp;&nbsp;</span>
        </div>
    </div>
    <div class="row" style="margin-top: 6px; padding-left: 15px; padding-right: 15px;">
        <div class="col-sm-12">
            <table class="table table-bordered" style="table-layout: fixed">
                <thead>
                <tr>
                    <th>名称</th>
                    <th>类型</th>
                    <th>说明</th>
                    <th>是否必填</th>
                    <th style="width: 20%">JSON格式化传输</th>
                    <th>示例</th>
                    <th>默认值</th>
                </tr>
                </thead>
                <tbody>
                {{# if interfaceParamEntities}}
                {{#interfaceParamEntities}}
                <tr>
                    <td title="{{paramName}}" style="word-wrap: break-word">
                        {{paramName}}
                    </td>
                    <td title="{{paramType}}" style="word-wrap: break-word">
                        {{paramType}}
                    </td>
                    <td title="{{paramDescribe}}" style="word-wrap: break-word">
                        {{paramDescribe}}
                    </td>
                    <td title="{{required}}" style="word-wrap: break-word">
                        {{required}}
                    </td>
                    <td title="{{jsontransformat}}"
                        style="word-wrap: break-word">{{jsontransformat}}
                    </td>
                    <td title="{{example}}" style="word-wrap: break-word">
                        {{example}}
                    </td>
                    <td title="{{defaultValue}}" style="word-wrap: break-word;">
                        {{defaultValue}}
                    </td>
                </tr>
                {{/interfaceParamEntities}}
                {{else}}
                <tr>
                    <td class='text-center' colspan='7'>暂无信息！</td>
                </tr>
                {{/if}}
                </tbody>
            </table>
        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd">(7).返回示例及注意事项 :</b></span><span>&nbsp;&nbsp;</span>
        </div>
    </div>
    <div class="row" style="margin-top: 6px; padding-left: 15px; padding-right: 15px;">
        <div class="col-sm-12">
            {{# if interfaceResultEntities}}
            {{#interfaceResultEntities}}
            {{#compareExampleType exampleType "NORMAL" }}
            <pre>{{# if exampleContent}}{{exampleContent}}{{else}}暂无返回示例！{{/if}}</pre>
            <pre>{{# if attentionMatters}}{{attentionMatters}}{{else}}暂无注意事项！{{/if}}</pre>
            {{/compareExampleType}}
            {{/interfaceResultEntities}}
            {{/if}}

        </div>
    </div>
    <div class="row" style="margin-top: 3px;">
        <div class="col-sm-12">
            <span><b style="color: #03b6fd" >(8).异常示例及注意事项 :</b></span><span>&nbsp;&nbsp;</span>
        </div>
    </div>
    <div class="row" style="margin-top: 6px; padding-left: 15px; padding-right: 15px;">
        <div class="col-sm-12">
            {{# if interfaceResultEntities}}
            {{#interfaceResultEntities}}
            {{#compareExampleType exampleType "EXCEPTION" }}
            <pre>{{# if exampleContent}}{{exampleContent}}{{else}}暂无返回示例！{{/if}}</pre>
            <pre>{{# if attentionMatters}}{{attentionMatters}}{{else}}暂无注意事项！{{/if}}</pre>
            {{/compareExampleType}}
            {{/interfaceResultEntities}}
            {{/if}}
        </div>
    </div>
    <br/>
    {{/each}}
    {{else}}
    <h3 class="text-center">暂无 RPC 相关接口列表信息！</h3>
    {{/if}}
</script>
<script type="text/javascript">
    $(function () {
        //HTTP接口列表展示
        $.post("${ctxPath}/rest/interfaceHttp/findInterfaceHttpList", {"appId": "$!{appDO.appId}"}, function (data) {
            $("#interfaceHttpViewPanel").handlebars($("#interfaceHttpViewTemplate"), data);
        }, "json");

        //RPC接口列表展示
        $.post("${ctxPath}/rest/interfaceRpc/findInterfaceRpcList", {"appId": "$!{appDO.appId}"}, function (data) {
            $("#interfaceRpcViewPanel").handlebars($("#interfaceRpcViewTemplate"), data);
        }, "json");
    });
</script>